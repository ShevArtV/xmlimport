<strong>Как это работает</strong>
<ol>
    <li>Создайте файл конфигурации в папке core/xmlimport/configs/</li>
    <li>Если файл импорта необходимо скачать, укажите ссылку на него в параметре "feedUrl"</li>
    <li>Установите остальные параметры конфигурации</li>
    <li>Создайте задачу в планировщике с необходимым интервалом запуска, которая будет запускать скрипт из файла core/xmlimport/cron/run.php. В качестве параметра 
передайте название файла конфигурации без постфикса ".inc.php"</li>
</ol>

При запуске run.php, будет скачан файл фида, если указана ссылка на него, затем он будет прочитан и разложен на отдельные файлы категорий и офферов. 
На следующем этапе эти файлы будут перебираться в цикле и по данным из них, будут созданы ресурсы.
Если это не первый импорт и вы не удаляли файлы предыдущего, то будут сопоставлены предыдущие файлы с новыми,
если какие-то файлы отсутствуют в новом импорте, то они будут удалены, а ресурсам с ними связанными 
будут установлены значения полей из настройки `keyForDeleted`.


Для корректной работы потребуется создать два поля
<ul>
    <li><strong>feed_id</strong> - для записи идентификатора ресурса из файла.</li>
    <li><strong>supplier</strong> - для записи поставщика файла импорта.</li>
</ul>

<strong>Поля можно создавать с помощью компонента ExtraFields.</strong>

Для первого импорта рекомендую не использовать поиск по <strong>supplier</strong> в параметре <strong>searchConditions</strong>.
А в целом можете писать любые условия для WHERE.

Параметр <strong>noUpdate</strong> нужен для предотвращения затирания стараний контент-менеджера. Бывает так, что поставщик
не передаёт в файле импорта разметку для описания, и тогда её может добавить контентщик и, если не указать поле content параметре
<strong>noUpdate</strong>, разметка опять исчезнет.

В параметре <strong>productOptions</strong> можно указывать полное описание опций, при этом создавать самостоятельно их необязательно.
Обратите внимание, что для опций типа <strong>combo-colors</strong> необходимо вручную прописать <strong>properties</strong> при этом
name, каждого элемента должно соответствовать значению в файле импорта. При этом для опций типа <strong>combo-multiple</strong>
свойство <strong>properties</strong> будет заполнено автоматически в процессе импорта.
В каждую опцию типа <strong>textfield</strong>(значение по умолчанию) можно записать данные из нескольких тегов. 
При этом для каждого тега можно задать шаблон значения с ключом (значение атрибута name тега) или без него в параметре <strong>paramValueTemplates</strong>.
Например: в файле импорта есть теги "Коллекция" и "Год" и вы хотите записать их в опцию с ключом <strong>collection</strong>.
Тогда конфиг будет таким:
<code>
...
'paramValueTemplates' => [
    'Коллекция' => '{key}: {value}',
    'Год' => '{key}: {value}',
],
'productOptions' => [
    'collection' => [
        'from' => ['params_Коллекция', 'params_Год'],
        'caption' => 'Информация о коллекции',  
    ],
]
...
</code>
В админке значение опции будет записано так: "Коллекция: Шерлок; Год: 2021". Разделитель задается в параметре <strong>valueImplodeSeparator</strong>.

Параметр <strong>ignore_params</strong> нужен только для уменьшения размера файлов, так как импортированы будут только те данные,
которые указаны в <strong>productOptions</strong> и <strong>productDefaultFields</strong>.

Параметр <strong>updateCategoryStructure</strong> позволяет привести структуру каталога сайта в соответствии со структурой категорий в файле импорта.
Актуально только, если у вас уже есть категории на сайте и их названия на 100% совпадают с названиями категорий в файле.

Скрипт умеет добавлять товары в несколько категорий. Для этого в параметре <strong>productFields</strong> с ключом "categories"
нужно указать тег или параметр в котором лежит список feed_id дополнительных категорий и указать разделитель этого списка <strong>valueExplodeSeparator</strong>.
Допускаю, что дополнительные категории могу передаваться как-то ещё, но предусмотрен только такой вариант импорта. Если у вас иначе,
можно расширить класс "importfeed.php", переопределив метод "setAdditionalCategories".

Для загрузки картинок нужно указать путь для загрузки файлов <strong>imagePath</strong>. Туда нужно положить картинки вручную.
Если вручную лень, разрешите автоматическое скачивание <strong>allowDownloadImages</strong>. Как правило картинки обновляются редко,
поэтому имеет смысл загружать картинки только для новых товаров <strong>setGalleryOnlyNew</strong>. При необходимости добавить
картинки в существующим для всех импортируемых товаров используйте параметр <strong>setGallery</strong>, 
если нужно установить в галерею только новые картинки, добавь ещё параметр <strong>removeOldFiles</strong>.

Импортировать можно отдельно категории <strong>importCategories</strong> и отдельно товары <strong>importProducts</strong>.
По умолчанию при импорте существующие ресурсы обновляются, новые создаются. Однако используя параметр <strong>importMode</strong>
можно только обновлять, или только создавать ресурсы.

Вы можете создать любое количество конфигураций для одного файла импорта, что позволит отдельно обновлять цены и остатки, и ассортимент.

При наличии установленного компонента mSearch2, для каждого нового ресурса будет автоматически обновляться поисковый индекс.

Если требуется дополнительная обработка данных, то в настройке `customHandlers` нужно указать массив со следующими ключами:
* `offer` - массив обработчиков для товаров
* `category` - массив обработчиков для категорий
* `path` - путь к обработчику относительно файла `importfeed.php`
* `function` - имя функции в обработчике
